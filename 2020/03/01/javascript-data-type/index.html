<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Gemini","version":"7.7.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":true,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":5,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="JavaScript 数据类型 7 种原始类型: Number String Boolean Undefined Null BigInt Symbol   Object  原始值除 Object 以外的所有类型都是不可变的 字符串类型JavaScript的字符串类型用于表示文本数据。它是一组16位的无符号整数值的“元素” 数字类型根据 ECMAScript 标准，JavaScript 中只有一种数">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript 数据类型整理">
<meta property="og:url" content="http://yoursite.com/2020/03/01/javascript-data-type/index.html">
<meta property="og:site_name" content="HwaelCode">
<meta property="og:description" content="JavaScript 数据类型 7 种原始类型: Number String Boolean Undefined Null BigInt Symbol   Object  原始值除 Object 以外的所有类型都是不可变的 字符串类型JavaScript的字符串类型用于表示文本数据。它是一组16位的无符号整数值的“元素” 数字类型根据 ECMAScript 标准，JavaScript 中只有一种数">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2020-03-01T03:11:28.000Z">
<meta property="article:modified_time" content="2020-03-04T10:12:52.370Z">
<meta property="article:author" content="Hwael">
<meta property="article:tag" content="JavaScript">
<meta property="article:tag" content="数据类型">
<meta property="article:tag" content="隐式转换">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/2020/03/01/javascript-data-type/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true
  };
</script>

  <title>JavaScript 数据类型整理 | HwaelCode</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="HwaelCode" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">HwaelCode</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://github.com/ouerzc" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/01/javascript-data-type/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hwael">
      <meta itemprop="description" content="个人学习记录">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HwaelCode">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          JavaScript 数据类型整理
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-03-01 11:11:28" itemprop="dateCreated datePublished" datetime="2020-03-01T11:11:28+08:00">2020-03-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-04 18:12:52" itemprop="dateModified" datetime="2020-03-04T18:12:52+08:00">2020-03-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index"><span itemprop="name">JavaScript</span></a>
                </span>
            </span>

          
            <span id="/2020/03/01/javascript-data-type/" class="post-meta-item leancloud_visitors" data-flag-title="JavaScript 数据类型整理" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="JavaScript-数据类型"><a href="#JavaScript-数据类型" class="headerlink" title="JavaScript 数据类型"></a>JavaScript 数据类型</h1><ul>
<li>7 种原始类型:<ul>
<li>Number</li>
<li>String</li>
<li>Boolean</li>
<li>Undefined</li>
<li>Null</li>
<li>BigInt</li>
<li>Symbol</li>
</ul>
</li>
<li>Object</li>
</ul>
<h1 id="原始值"><a href="#原始值" class="headerlink" title="原始值"></a>原始值</h1><p>除 Object 以外的所有类型都是不可变的</p>
<h2 id="字符串类型"><a href="#字符串类型" class="headerlink" title="字符串类型"></a>字符串类型</h2><p>JavaScript的字符串类型用于表示文本数据。它是一组16位的无符号整数值的“元素”</p>
<h2 id="数字类型"><a href="#数字类型" class="headerlink" title="数字类型"></a>数字类型</h2><p>根据 ECMAScript 标准，JavaScript 中只有一种数字类型：基于 IEEE 754 标准的双精度 64 位二进制格式的值（-(253 -1) 到 253 -1）</p>
<p>还有一些带符号的值：<code>+Infinity</code>，<code>-Infinity</code> 和 <code>NaN</code>(非数值，Not-a-Number)</p>
<p>要检查值是否大于或小于 <code>+/-Infinity</code>, 你可以使用常量 <code>Number.MAX_VALUE</code> 和 <code>Number.MIN_VALUE</code></p>
<p>在 ECMAScript 6 中，你也可以通过 <code>Number.isSafeInteger()</code> 方法还有 <code>Number.MAX_SAFE_INTEGER</code> 和 <code>Number.MIN_SAFE_INTEGER</code> 来检查值是否在双精度浮点数的取值范围内</p>
<a id="more"></a>


<h2 id="布尔类型"><a href="#布尔类型" class="headerlink" title="布尔类型"></a>布尔类型</h2><p>布尔表示一个逻辑实体，可以有两个值：<code>true</code> 和 <code>false</code></p>
<h2 id="Null-类型"><a href="#Null-类型" class="headerlink" title="Null 类型"></a>Null 类型</h2><p>Null 类型只有一个值： null</p>
<h2 id="Undefined-类型"><a href="#Undefined-类型" class="headerlink" title="Undefined 类型"></a>Undefined 类型</h2><p>一个没有被赋值的变量会有个默认值 <code>undefined</code></p>
<h2 id="BigInt-类型"><a href="#BigInt-类型" class="headerlink" title="BigInt 类型"></a>BigInt 类型</h2><p>BigInt类型是 JavaScript 中的一个基础的数值类型，可以用任意精度表示整数</p>
<h2 id="符号类型"><a href="#符号类型" class="headerlink" title="符号类型"></a>符号类型</h2><p>符号类型是唯一的并且是不可修改的, 并且也可以用来作为Object的key的值</p>
<h1 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h1><h2 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h2><p>属性使用键来标识，它的键值可以是一个字符串或者符号值（Symbol）</p>
<p>ECMAScript定义的对象中有两种属性：数据属性和访问器属性。</p>
<h3 id="数据属性"><a href="#数据属性" class="headerlink" title="数据属性"></a>数据属性</h3><p>数据属性是键值对，并且每个数据属性拥有下列特性:</p>
<h4 id="数据属性的特性-Attributes-of-a-data-property"><a href="#数据属性的特性-Attributes-of-a-data-property" class="headerlink" title="数据属性的特性(Attributes of a data property)"></a>数据属性的特性(Attributes of a data property)</h4><table>
<thead>
<tr>
<th>特性</th>
<th>数据类型</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>[[Value]]</td>
<td>任何Javascript类型</td>
<td>包含这个属性的数据值</td>
<td>undefined</td>
</tr>
<tr>
<td>[[Writable]]</td>
<td>Boolean</td>
<td>如果该值为 false，则该属性的 [[Value]] 特性 不能被改变</td>
<td>true</td>
</tr>
<tr>
<td>[[Enumerable]]</td>
<td>Boolean</td>
<td>如果该值为 true，则该属性可以用 for…in 循环来枚举</td>
<td>true</td>
</tr>
<tr>
<td>[[Configurable]]</td>
<td>Boolean</td>
<td>如果该值为 false，则该属性不能被删除，并且 除了 [[Value]] 和 [[Writable]] 以外的特性都不能被改变。</td>
<td>true</td>
</tr>
</tbody></table>
<h3 id="访问器属性"><a href="#访问器属性" class="headerlink" title="访问器属性"></a>访问器属性</h3><p>访问器属性有一个或两个访问器函数 (get 和 set) 来存取数值，并且有以下特性:</p>
<h4 id="一个访问器属性的特性"><a href="#一个访问器属性的特性" class="headerlink" title="一个访问器属性的特性"></a>一个访问器属性的特性</h4><table>
<thead>
<tr>
<th>特性</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>[[Get]]</td>
<td>函数对象或者 undefined</td>
<td>该函数使用一个空的参数列表，能够在有权访问的情况下读取属性值。另见 get。</td>
<td>undefined</td>
</tr>
<tr>
<td>[[Set]]</td>
<td>函数对象或者 undefined</td>
<td>该函数有一个参数，用来写入属性值，另见 set。</td>
<td>undefined</td>
</tr>
<tr>
<td>[[Enumerable]]</td>
<td>Boolean</td>
<td>如果该值为 true，则该属性可以用 for…in 循环来枚举。</td>
<td>true</td>
</tr>
<tr>
<td>[[Configurable]]</td>
<td>Boolean</td>
<td>如果该值为 false，则该属性不能被删除，并且不能被转变成一个数据属性。</td>
<td>true</td>
</tr>
</tbody></table>
<h2 id="“标准的”-对象-和函数"><a href="#“标准的”-对象-和函数" class="headerlink" title="“标准的” 对象, 和函数"></a>“标准的” 对象, 和函数</h2><p>一个 Javascript 对象就是键和值之间的映射</p>
<p><strong>函数</strong> 是一个附带可被调用功能的常规对象。</p>
<h2 id="日期"><a href="#日期" class="headerlink" title="日期"></a>日期</h2><p>当你想要显示日期时，毋庸置疑，使用内建的 <code>Date</code> 对象。</p>
<h2 id="有序集-数组和类型数组"><a href="#有序集-数组和类型数组" class="headerlink" title="有序集: 数组和类型数组"></a>有序集: 数组和类型数组</h2><p><strong>数组</strong> 是一种使用整数作为键(integer-key-ed)属性和长度(length)属性之间关联的常规对象</p>
<p>数组对象还继承了 Array.prototype 的一些操作数组的便捷方法</p>
<h3 id="类型数组-Typed-Arrays"><a href="#类型数组-Typed-Arrays" class="headerlink" title="类型数组(Typed Arrays)"></a>类型数组(Typed Arrays)</h3><p><strong>类型数组(Typed Arrays)</strong> 是ECMAScript Edition 6中新定义的 JavaScript 内建对象，提供了一个基本的二进制数据缓冲区的类数组视图</p>
<h2 id="键控集-Maps-Sets-WeakMaps-WeakSets"><a href="#键控集-Maps-Sets-WeakMaps-WeakSets" class="headerlink" title="键控集: Maps, Sets, WeakMaps, WeakSets"></a>键控集: Maps, Sets, WeakMaps, WeakSets</h2><ul>
<li>这些数据结构把对象的引用当作键</li>
<li>当 <code>Map</code> 和 <code>WeakMap</code> 把一个值和对象关联起来的时候， <code>Set</code> 和 <code>WeakSet</code> 表示一组对象</li>
<li><code>Map</code> 和 <code>WeakMaps</code> 之间的差别在于，在前者中，对象键是可枚举的</li>
</ul>
<h2 id="结构化数据-JSON"><a href="#结构化数据-JSON" class="headerlink" title="结构化数据: JSON"></a>结构化数据: JSON</h2><p><code>JSON (JavaScript Object Notation)</code> 是一种轻量级的数据交换格式，来源于 JavaScript 同时也被多种语言所使用。 JSON 用于构建通用的数据结构</p>
<h1 id="对象转换到基本类型值算法"><a href="#对象转换到基本类型值算法" class="headerlink" title="对象转换到基本类型值算法"></a>对象转换到基本类型值算法</h1><p>JavaScript 对象什么场景下会转换到基本类型值:</p>
<ul>
<li>数学运算：obj1 + obj2、obj1 - obj2 等</li>
<li>期望值是基本类型值的运算：alert(obj)</li>
</ul>
<h2 id="ToPrimitive-算法"><a href="#ToPrimitive-算法" class="headerlink" title="ToPrimitive 算法"></a>ToPrimitive 算法</h2><p>JavaScript 对象转换到基本类型值时，会使用 <code>ToPrimitive ( input [ , PreferredType ] )</code> 算法，这是一个内部算法，是编程语言在内部执行时遵循的一套规则。</p>
<h3 id="hint"><a href="#hint" class="headerlink" title="hint"></a>hint</h3><p>ToPrimitive 算法在执行时，会被传递一个参数 hint，表示这是一个什么类型的运算（也可以叫运算的期望值），根据这个 hint 参数，ToPrimitive 算法来决定内部的执行逻辑。</p>
<p><code>PreferredType</code> 表示对象将要转换的类型:</p>
<ul>
<li><code>PreferredType</code> 未传递，则令 hint 为 <code>default</code></li>
<li><code>PreferredType</code> 为 String，则 hint 为 <code>string</code></li>
<li><code>PreferredType</code> 为 Number，则 hint 为 <code>number</code></li>
</ul>
<h3 id="转换算法"><a href="#转换算法" class="headerlink" title="转换算法"></a>转换算法</h3><p>当对象发生到基本类型值的转换时，会按照下面的逻辑调用对象上的方法：</p>
<ol>
<li>如果存在，调用 <code>obj[Symbol.toPrimitive](hint)</code></li>
<li>否则，如果 hint 取值是 “<code>string</code>“:<ol>
<li>首先调用 <code>obj.toString()</code>, 如果是原始值则返回</li>
<li>否则再用 <code>obj.valueOf()</code>, 如果是原始值则返回</li>
<li>否则会报 <code>TypeError</code> 错误</li>
</ol>
</li>
<li>否则（也就是 hint 取值是 “<code>number</code>“ 或 “<code>default</code>“ 的情况）:<ol>
<li>首先调用 <code>obj.valueOf()</code>, 如果是原始值则返回</li>
<li>否则再用 <code>obj.toString()</code>, 如果是原始值则返回</li>
<li>否则会报 <code>TypeError</code> 错误</li>
</ol>
</li>
</ol>
<h4 id="例外-Date"><a href="#例外-Date" class="headerlink" title="例外 Date"></a>例外 <code>Date</code></h4><p><code>Date</code> 对象没有 <code>hint</code>, 认为 <code>hint</code> 是 <code>string</code></p>
<h3 id="确定-hint"><a href="#确定-hint" class="headerlink" title="确定 hint"></a>确定 hint</h3><p>用代码打印 <code>hint</code> 值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 一个没有提供 Symbol.toPrimitive 属性的对象，参与运算时的输出结果</span></span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(+obj1);         <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;obj1&#125;</span>`</span>);     <span class="comment">// "[object Object]"</span></span><br><span class="line"><span class="built_in">console</span>.log(obj1 + <span class="string">""</span>);     <span class="comment">// "[object Object]"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 接下面声明一个对象，手动赋予了 Symbol.toPrimitive 属性，再来查看输出结果</span></span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;</span><br><span class="line">  [<span class="built_in">Symbol</span>.toPrimitive](hint) &#123;</span><br><span class="line">    <span class="keyword">if</span> (hint == <span class="string">"number"</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (hint == <span class="string">"string"</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">"hello"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(+obj2);         <span class="comment">// 10       -- hint 参数值是 "number"</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;obj2&#125;</span>`</span>);     <span class="comment">// "hello"   -- hint 参数值是 "string"</span></span><br><span class="line"><span class="built_in">console</span>.log(obj2 + <span class="string">""</span>);     <span class="comment">// "true"    -- hint 参数值是 "default"</span></span><br></pre></td></tr></table></figure>

<h3 id="返回值"><a href="#返回值" class="headerlink" title="返回值"></a>返回值</h3><ul>
<li><code>Symbol.toPrimitive</code> 和 <code>toString</code> 方法的返回值必须是 <strong>基本类型值</strong></li>
<li><code>valueOf</code> 方法除了可以返回 <strong>基本类型值</strong>，也可以返回 <strong>其他类型值</strong></li>
</ul>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><p>当我们创建一个普通对象时（<code>{}</code> 或 <code>new Object()</code> 的方式等），对象上是不具备 <code>[Symbol.toPrimitive]</code> （方法）属性的。所以，对于普通对象的到基本类型值的运算，一般按照具体场景：</p>
<ol>
<li><code>hint</code> 值为 “<code>string</code>“ 时，先调用 <code>toString</code>，<code>toString</code> 如果返回一个基本类型值了，则返回、终止运算；否则接着调用 <code>valueOf</code> 方法</li>
<li>否则，先调用 <code>valueOf</code>，<code>valueOf</code> 如果返回一个基本类型值了，则返回、终止运算；否则接着调用 <code>toString</code> 方法</li>
</ol>
<h2 id="valueOf-NaN"><a href="#valueOf-NaN" class="headerlink" title="valueOf"></a>valueOf</h2><p>JavaScript调用valueOf方法将对象转换为原始值, 默认情况下, valueOf方法由Object后面的每个对象继承。 每个内置的核心对象都会覆盖此方法以返回适当的值。如果对象没有原始值, 则valueOf将返回对象本身。</p>
<h3 id="不同类型对象的valueOf-方法的返回值"><a href="#不同类型对象的valueOf-方法的返回值" class="headerlink" title="不同类型对象的valueOf()方法的返回值"></a>不同类型对象的valueOf()方法的返回值</h3><table>
<thead>
<tr>
<th>对象</th>
<th>返回值</th>
</tr>
</thead>
<tbody><tr>
<td>Array</td>
<td>返回数组对象本身</td>
</tr>
<tr>
<td>Boolean</td>
<td>布尔值</td>
</tr>
<tr>
<td>Date</td>
<td>存储的时间是从 1970 年 1 月 1 日午夜开始计的毫秒数 UTC</td>
</tr>
<tr>
<td>Function</td>
<td>函数本身</td>
</tr>
<tr>
<td>Number</td>
<td>数字值</td>
</tr>
<tr>
<td>Object</td>
<td>对象本身。这是默认情况</td>
</tr>
<tr>
<td>String</td>
<td>字符串值</td>
</tr>
<tr>
<td></td>
<td>Math 和 Error 对象没有 valueOf 方法</td>
</tr>
</tbody></table>
<h2 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString"></a>toString</h2><p>每个对象都有一个 <code>toString()</code> 方法，当该对象被表示为一个文本值时，或者一个对象以预期的字符串方式引用时自动调用。默认情况下，<code>toString()</code> 方法被每个 <code>Object</code> 对象继承。如果此方法在自定义对象中未被覆盖，<code>toString()</code> 返回 “<code>[object type]</code>“，其中 <code>type</code>是对象的类型.</p>
<h3 id="toSting-运算"><a href="#toSting-运算" class="headerlink" title="toSting 运算"></a>toSting 运算</h3><table>
<thead>
<tr>
<th>输入</th>
<th>结果</th>
</tr>
</thead>
<tbody><tr>
<td>null</td>
<td>‘null’</td>
</tr>
<tr>
<td>undefined</td>
<td>‘undefined’</td>
</tr>
<tr>
<td>number</td>
<td>参照§7.1.12.1</td>
</tr>
<tr>
<td>boolean</td>
<td>‘true’ / ‘false’</td>
</tr>
<tr>
<td>string</td>
<td>不转换</td>
</tr>
<tr>
<td>symbol</td>
<td>TypeError</td>
</tr>
<tr>
<td>object</td>
<td>ToString(ToPrimitive(input,String))</td>
</tr>
</tbody></table>
<h3 id="覆盖了-toString-属性的对象类型"><a href="#覆盖了-toString-属性的对象类型" class="headerlink" title="覆盖了 toString 属性的对象类型"></a>覆盖了 toString 属性的对象类型</h3><h4 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h4><ul>
<li>valueOf(): 返回对象本身</li>
<li>toString(): 相当于数组值调用 join(‘,’) 返回的字符串<br>  例如: [1,2,3].toString() =&gt; “1,2,3”</li>
</ul>
<h4 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h4><ul>
<li>valueOf(): 返回对象本身</li>
<li>toString(): 返回函数中包含的代码转为字符串值</li>
</ul>
<h4 id="Date"><a href="#Date" class="headerlink" title="Date"></a>Date</h4><ul>
<li>valueOf(): 返回给定的时间转为UNIX时间(自1 January 1970 00:00:00 UTC起算)，但是以微秒计算的数字值</li>
<li>toString(): 返回本地化的时间字符串</li>
</ul>
<h1 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h1><ul>
<li><a href="http://zhoushengfe.com/es6/es6-ch.html" target="_blank" rel="noopener">ECMAScript® 2016 语言规范</a></li>
<li><a href="http://yanhaijing.com/es5" target="_blank" rel="noopener">ECMAScript5.1中文版</a></li>
</ul>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/JavaScript/" rel="tag"># JavaScript</a>
              <a href="/tags/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" rel="tag"># 数据类型</a>
              <a href="/tags/%E9%9A%90%E5%BC%8F%E8%BD%AC%E6%8D%A2/" rel="tag"># 隐式转换</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item"></div>
      <div class="post-nav-item">
    <a href="/2020/03/03/rotting-oranges/" rel="next" title="腐烂的橘子 - LeetCode">
      腐烂的橘子 - LeetCode <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          
    <div class="comments" id="gitalk-container"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#JavaScript-数据类型"><span class="nav-number">1.</span> <span class="nav-text">JavaScript 数据类型</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#原始值"><span class="nav-number">2.</span> <span class="nav-text">原始值</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#字符串类型"><span class="nav-number">2.1.</span> <span class="nav-text">字符串类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数字类型"><span class="nav-number">2.2.</span> <span class="nav-text">数字类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#布尔类型"><span class="nav-number">2.3.</span> <span class="nav-text">布尔类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Null-类型"><span class="nav-number">2.4.</span> <span class="nav-text">Null 类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Undefined-类型"><span class="nav-number">2.5.</span> <span class="nav-text">Undefined 类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#BigInt-类型"><span class="nav-number">2.6.</span> <span class="nav-text">BigInt 类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#符号类型"><span class="nav-number">2.7.</span> <span class="nav-text">符号类型</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#对象"><span class="nav-number">3.</span> <span class="nav-text">对象</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#属性"><span class="nav-number">3.1.</span> <span class="nav-text">属性</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#数据属性"><span class="nav-number">3.1.1.</span> <span class="nav-text">数据属性</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#数据属性的特性-Attributes-of-a-data-property"><span class="nav-number">3.1.1.1.</span> <span class="nav-text">数据属性的特性(Attributes of a data property)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#访问器属性"><span class="nav-number">3.1.2.</span> <span class="nav-text">访问器属性</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#一个访问器属性的特性"><span class="nav-number">3.1.2.1.</span> <span class="nav-text">一个访问器属性的特性</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#“标准的”-对象-和函数"><span class="nav-number">3.2.</span> <span class="nav-text">“标准的” 对象, 和函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#日期"><span class="nav-number">3.3.</span> <span class="nav-text">日期</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#有序集-数组和类型数组"><span class="nav-number">3.4.</span> <span class="nav-text">有序集: 数组和类型数组</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#类型数组-Typed-Arrays"><span class="nav-number">3.4.1.</span> <span class="nav-text">类型数组(Typed Arrays)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#键控集-Maps-Sets-WeakMaps-WeakSets"><span class="nav-number">3.5.</span> <span class="nav-text">键控集: Maps, Sets, WeakMaps, WeakSets</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#结构化数据-JSON"><span class="nav-number">3.6.</span> <span class="nav-text">结构化数据: JSON</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#对象转换到基本类型值算法"><span class="nav-number">4.</span> <span class="nav-text">对象转换到基本类型值算法</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#ToPrimitive-算法"><span class="nav-number">4.1.</span> <span class="nav-text">ToPrimitive 算法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#hint"><span class="nav-number">4.1.1.</span> <span class="nav-text">hint</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#转换算法"><span class="nav-number">4.1.2.</span> <span class="nav-text">转换算法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#例外-Date"><span class="nav-number">4.1.2.1.</span> <span class="nav-text">例外 Date</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#确定-hint"><span class="nav-number">4.1.3.</span> <span class="nav-text">确定 hint</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#返回值"><span class="nav-number">4.1.4.</span> <span class="nav-text">返回值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#其他"><span class="nav-number">4.1.5.</span> <span class="nav-text">其他</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#valueOf-NaN"><span class="nav-number">4.2.</span> <span class="nav-text">valueOf</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#不同类型对象的valueOf-方法的返回值"><span class="nav-number">4.2.1.</span> <span class="nav-text">不同类型对象的valueOf()方法的返回值</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#toString-NaN"><span class="nav-number">4.3.</span> <span class="nav-text">toString</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#toSting-运算"><span class="nav-number">4.3.1.</span> <span class="nav-text">toSting 运算</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#覆盖了-toString-属性的对象类型"><span class="nav-number">4.3.2.</span> <span class="nav-text">覆盖了 toString 属性的对象类型</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Array"><span class="nav-number">4.3.2.1.</span> <span class="nav-text">Array</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Function"><span class="nav-number">4.3.2.2.</span> <span class="nav-text">Function</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Date"><span class="nav-number">4.3.2.3.</span> <span class="nav-text">Date</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#参考链接"><span class="nav-number">5.</span> <span class="nav-text">参考链接</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Hwael</p>
  <div class="site-description" itemprop="description">个人学习记录</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">2</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">分类</span>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/ouerzc" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;ouerzc" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Hwael</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v4.2.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.7.2
  </div>

        






  <script>
  function leancloudSelector(url) {
    url = encodeURI(url);
    return document.getElementById(url).querySelector('.leancloud-visitors-count');
  }
  if (CONFIG.page.isPost) {
    function addCount(Counter) {
      var visitors = document.querySelector('.leancloud_visitors');
      var url = decodeURI(visitors.getAttribute('id'));
      var title = visitors.dataset.flagTitle;

      Counter('get', `/classes/Counter?where=${encodeURIComponent(JSON.stringify({ url }))}&limit=1`)
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length > 0) {
            var counter = results[0];
              leancloudSelector(url).innerText = counter.time + 1;
            Counter('put', '/classes/Counter/' + counter.objectId, { time: { '__op': 'Increment', 'amount': 1 } })
              .then(response => response.json())
              .catch(error => {
                console.error('Failed to save visitor count', error);
              })
          } else {
              leancloudSelector(url).innerText = 'Counter not initialized! More info at console err msg.';
              console.error('ATTENTION! LeanCloud counter has security bug, see how to solve it here: https://github.com/theme-next/hexo-leancloud-counter-security. \n However, you can still use LeanCloud without security, by setting `security` option to `false`.');
            
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }
  } else {
    function showTime(Counter) {
      var visitors = document.querySelectorAll('.leancloud_visitors');
      var entries = [...visitors].map(element => {
        return decodeURI(element.getAttribute('id'));
      });

      Counter('get', `?where=${encodeURIComponent(JSON.stringify({ url: { '$in': entries } }))}`)
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length === 0) {
            document.querySelectorAll('.leancloud_visitors .leancloud-visitors-count').forEach(element => {
              element.innerText = 0;
            });
            return;
          }
          for (let item of results) {
            let { url, time } = item;
            leancloudSelector(url).innerText = time;
          }
          for (let url of entries) {
            var element = leancloudSelector(url);
            if (element.innerText == '') {
              element.innerText = 0;
            }
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }
  }

  fetch('https://app-router.leancloud.cn/2/route?appId=qVebDefkFSIs7lHk87cbhwwR-MdYXbMMI')
    .then(response => response.json())
    .then(({ api_server }) => {
      var Counter = (method, url, data) => {
        return fetch(`https://${api_server}/1.1${url}`, {
          method,
          headers: {
            'X-LC-Id'     : 'qVebDefkFSIs7lHk87cbhwwR-MdYXbMMI',
            'X-LC-Key'    : 'gzLuaY4GnzNnGjWat4PF1Q8O',
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      if (CONFIG.page.isPost) {
        if (CONFIG.hostname !== location.hostname) return;
        addCount(Counter);
      } else if (document.querySelectorAll('.post-title-link').length >= 1) {
        showTime(Counter);
      }
    });
  </script>


      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : '0c113705b2b577b4317c',
      clientSecret: 'c457ede4c397588ff1c8b2d426e45d6089d1793b',
      repo        : 'ouerzc.github.io',
      owner       : 'ouerzc',
      admin       : ['ouerzc'],
      id          : '03de5e10ff5db8fbd3a17ffbd1f2d2c9',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script>

</body>
</html>
